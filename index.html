<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Investment Advisor</title>
</head>
<body>
    <h1>Investment Advisor</h1>
    <form id="investment-form">
    <label for="age">Age:</label>
    <input type="number" id="age" name="age" required><br>

    <label for="risk">Risk Tolerance:</label>
    <select id="risk" name="risk">
        <option value="low">Low</option>
        <option value="medium">Medium</option>
        <option value="high">High</option>
    </select><br>

    <label for="horizon">Investment Horizon:</label>
    <select id="horizon" name="horizon">
        <option value="short">Short-term</option>
        <option value="medium">Medium-term</option>
        <option value="long">Long-term</option>
    </select><br>

    <button type="submit">Get Recommendation</button>
</form>

<p id="recommendation"></p>

    <script>
    document.getElementById("investment-form").addEventListener("submit", async function(event) {
    event.preventDefault();

    let age = document.getElementById("age").value;
    let risk = document.getElementById("risk").value;
    let horizon = document.getElementById("horizon").value;

    let requestData = { age, risk, horizon };

    try {
        fetch('https://ffxc59a748.execute-api.us-east-2.amazonaws.com/recommend', {
    method: 'POST',
    headers: {
        'Content-Type': 'application/json'
    },
    body: JSON.stringify({
        age: userAge,
        risk: userRisk,
        horizon: userHorizon
    })
})
.then(response => response.json())
.then(data => {
    if (data.recommendations && data.recommendations.length > 0) {
        const recommendation = data.recommendations[0]; // Get first recommendation
        document.getElementById('investmentResult').innerHTML = 
            `<strong>Recommended Investment:</strong> ${recommendation.investment} <br>
             <strong>Reason:</strong> ${recommendation.reason} <br>
             <strong>Advice:</strong> ${data.advice} <br>
             <strong>Disclaimer:</strong> ${data.disclaimer}`;
    } else {
        document.getElementById('investmentResult').innerHTML = 
            `<strong>No specific recommendation found.</strong> Please try adjusting your inputs.`;
    }
})
.catch(error => {
    console.error('Error fetching recommendation:', error);
    document.getElementById('investmentResult').innerHTML = "Error fetching investment recommendation.";
});
</script>
</body>
</html>
